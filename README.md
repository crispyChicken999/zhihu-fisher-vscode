<p align="center">
  <img src="https://img2024.cnblogs.com/blog/3085939/202504/3085939-20250428102917058-270629388.png" alt="zhihu-fisher"  width="200" height="200" />
</p>

# 🐟 知乎摸鱼 🐟 (Zhihu Fisher)

![License](https://img.shields.io/badge/License-MIT-orange.svg)
![VSCode](https://img.shields.io/badge/VSCode-1.82.0%2B-blue.svg)
![Version](https://img.shields.io/badge/Version-0.2.4-green.svg)
![Supported](https://img.shields.io/badge/Supported-Windows_MacOS-purple.svg)

使用 VSCode，浏览知乎的推荐及热榜内容，快乐摸鱼。提供沉浸模式、评论区、图片视频切换等功能，避免摸鱼被发现。

## 🔮 背景 🔮

- 其实就是想上班摸会鱼，直接网页刷知乎容易被抓包，而且网页有很多图片，别人一看你就知道是在摸鱼。
- 然后就想在 VSCode 中刷知乎，结果发现市场中的那些插件，基本都不更新了或者根本用不了，索性直接写了一个。
- 欢迎推荐给你的同事，让他们也能在 VSCode 中愉快摸鱼！🤣 独摸摸不如众摸摸~
- 如果有更多的意见和建议，欢迎提交[Issues](https://github.com/crispyChicken999/zhihu-fisher-vscode/issues)，我会尽快修复和更新。
- 觉得好用，麻烦给个好评，感谢~（点一下插件名字旁边的五星即可 🎉，感谢！）

## 🚀 主要功能 🚀

1. 加载知乎热榜
2. 加载知乎推荐
3. 加载搜索结果
4. 查看知乎回答的内容，支持切换上一个/下一个回答
5. 完整的收藏夹功能，查看和管理自己创建和关注的收藏夹
6. 提供切换媒体（图片、视频等）模式（隐藏|迷你|正常）的功能，避免摸鱼被发现
7. 提供快捷键，键盘左右箭头可以切换上一个/下一个回答，按`/`可以切换图片的显示和隐藏
8. 文章可以调整字体大小、颜色等样式
8. 支持查看评论区
9. 提供沉浸模式，隐藏其他不重要的信息，只显示问题标题和回答内容
10. 支持收藏夹查看、新增、删除，支持收藏文章、问答到指定收藏夹
11. 支持智能伪装模式，切到其他页面后自动将文章页面的标题和图标伪装为代码文件，避免摸鱼被发现，切回后自动恢复

<img src="https://img2024.cnblogs.com/blog/3085939/202507/3085939-20250711153038514-925146507.png" alt="智能伪装模式示例" width="400">

## 🎯 支持的 VSCode 版本 🎯

- **1.82.0** 及以上版本

## 🎉 使用方式 🎉

### 1. 安装插件

安装后在 VSCode 侧边栏中找到 📖 图标

### 2. 配置浏览器

按照指示配置插件使用的 Chrome 浏览器，配置完成后重启 VSCode 以应用规则。

> 因为用到这个 Puppeteer 这个库，其原理就是在后台模拟打开知乎，模拟人在浏览，没配置浏览器的话，就没法在后台加载页面了 😥。

#### 2.1 配置方式

插件提供两种配置方式：`安装浏览器` 和 `使用本地浏览器`。

#### 2.2 安装浏览器

如果你选择了安装，那么这个浏览器安装完成后会在：

- Windows 用户：`C:\Users\[用户名]\.cache\puppeteer\chrome\win64-135.0.7049.84\chrome-win64\chrome.exe`
- Mac 用户：`/Users/[用户名]/Library/Caches/puppeteer/chrome/mac-x64-135.0.7049.84/chrome-mac-x64/Google Chrome.app/Contents/MacOS/Google Chrome`

#### 2.3 使用本地浏览器

你可以选择安装，也可以使用本地已经安装的谷歌浏览器，侧边栏有入口可以设置，或者`Ctrl/Commend`+`,`打开设置，搜索框输入`zhihu`，找到`Custom Chrome Path`，输入本地浏览器的路径即可。

本地浏览器地址类似：

- Windows 用户：`C:\Program Files\Google\Chrome\Application\chrome.exe`，需要以`chrome.exe`结尾
- Mac 用户：`/Applications/Google Chrome.app/Contents/MacOS/Google Chrome`

##### 2.3.1 Windows 获取本地 Chrome 浏览器路径的方法

1. 在桌面上找到 Chrome 浏览器的快捷方式，右键点击，选择"属性"
2. 在"快捷方式"选项卡中，找到"目标"字段，复制该路径
3. 将路径中的`"C:\Program Files\Google\Chrome\Application\chrome.exe"`去掉引号，保留路径部分即可

- 如果还是不清楚，可以参照下图：
  ![获取本地浏览器路径的方式](https://img2024.cnblogs.com/blog/3085939/202504/3085939-20250425154308398-1262720236.png)

##### 2.3.2 Mac 获取本地 Chrome 浏览器路径的方法

1. 打开终端（Terminal），输入以下命令：`ls /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome`
2. 如果显示了路径，则说明 Chrome 浏览器已安装在该位置
3. 如果没有安装，可以在终端中输入以下命令进行安装：`brew install --cask google-chrome`
4. 安装完成后，重新运行第一步的命令即可（如果找不到请百度，因为手头没有 Mac 电脑，无法测试）

### 3. 配置 Cookie

输入知乎的 Cookie，然后就会自动加载推荐及热榜内容

#### 3.1 Cookie 获取方式

- 在知乎网页端登录后，按 F12 打开开发者工具，切换到"网络"选项卡，选择一个请求，找到请求头中的`Cookie`字段，复制其值，粘贴到 VSCode 中输入框即可
- 如果还是不清楚，可以参照下图：
  ![获取Cookie的方式](https://img2024.cnblogs.com/blog/3085939/202504/3085939-20250424143443844-967882670.webp)

#### 3.2 Cookie 隐私保护声明

**我们非常重视您的隐私和数据安全，特此声明：**

- **本地存储**：您的 Cookie 仅存储在本地 VSCode 配置文件中，不会上传到任何服务器
- **用途限制**：Cookie 仅用于访问知乎内容，获取推荐、热榜和搜索结果，不会用于其他任何用途
- **数据保护**：我们不会收集、分析、分享或恶意使用您的 Cookie 信息
- **完全控制**：您可以随时通过插件设置清除或更新 Cookie
- **开源透明**：本插件完全开源，您可以查看所有源代码，确认 Cookie 的使用方式

**一句话概括：Cookie只存在你的电脑里面，插件不会上传你的Cookie，要来也没用😂，要是不放心也可以私聊我查看源码**

### 4. 开始使用

加载完成后点击内容即可查看，就可以愉快 🐟 摸鱼 🐟 啦~

## 💥 更新日志 💥

查看[完整更新日志](./CHANGELOG.md)，了解所有版本的详细更改。

## 📝 TODO 📝

- ~~重构代码，简化流程~~ **(v0.0.6 已重构)**
- ~~增加更多功能，比如搜索~~、收藏等 **(v0.0.8 已实现搜索功能)**
- ~~详情页面添加回答跳转功能~~ **(v0.0.7 已实现分页跳转)**
- ~~支持快捷键切换图片隐藏和显示~~ **(v0.1.0 已实现)**
- ~~支持用户指定自己的 Chrome.exe 浏览器地址，就不用下载新的了~~ **(v0.1.1 已实现)**
- ~~支持小图模式，比如想要摸鱼，但是也想偷偷看图片~~ **(v0.1.3 已实现)**
- ~~支持设置文章的各种样式，比如字体大小、颜色等~~ **(v0.1.3 已实现)**
- ~~支持爬回答的评论等。~~ **(v0.1.4 已实现)**

## 🐞 已知问题 🐞

1.  推荐列表可能加载不出来，可能跟 Cookie 中 BEC 参数有关，那么需要你前往知乎首页，点击推荐切换到推荐列表，然后刷新页面，获取新的 Cookie，粘贴到 VSCode 中即可。（我猜这个参数可能记录了用户的操作，比如之前切换到热榜列表，那么下次打开知乎也切到热榜，所以需要切到推荐后再拿 Cookie）
2.  欢迎在 Issues 中反馈问题，或者直接在插件中反馈问题，我会尽快修复。

## ⚙ 实现原理 ⚙

基于 VSCode 插件脚手架，使用 Puppeteer 来模拟浏览知乎，抓取内容并渲染成 HTML，最后在 VSCode 中显示。

## 📬 反馈问题 📬

- 在[GitHub Issues](https://github.com/crispyChicken999/zhihu-fisher-vscode/issues)中提交问题，我看到会尽快回复和修复。

## 💖 欢迎赞赏 💖

💰 一分也是爱，您的支持是我更新的最大动力！如果帮到你麻烦给个好评，感谢~（点一下插件名字旁边的五星即可 🎉，感谢！）

![赞赏码](https://img2024.cnblogs.com/blog/3085939/202504/3085939-20250425153014632-145153684.jpg)
