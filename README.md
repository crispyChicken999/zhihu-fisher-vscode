# 🐟 知乎摸鱼 🐟 (Zhihu Fisher)

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Version](https://img.shields.io/badge/version-0.0.9-green.svg)

使用 VSCode，浏览知乎的推荐及热榜内容，快乐摸鱼。

## 🔮 背景 🔮

- 其实就是想上班摸会鱼，直接网页刷知乎容易被抓包，而且网页有很多图片，别人一看你就知道是在摸鱼。
- 然后就想在 VSCode 中刷知乎，结果发现那些插件基本都不更新了根本用不了，索性直接写了一个。
- 目前基本功能有了，但是写的有些乱，后续会慢慢优化。
- 刚写完还有很多 bug，但是能用 😂，如果卡住了更多回答加载不出，那就关了再开。

## 支持的 VSCode 版本

- **1.82.0** 及以上版本

## 🎉 使用方式 🎉

1. 安装后在 VSCode 侧边栏中找到 📖 图标
2. 输入知乎的 Cookie，然后就会自动加载推荐及热榜内容
3. 加载完成后点击内容即可查看

> Cookie 获取方式：
>
> - 在知乎网页端登录后，按 F12 打开开发者工具，切换到"网络"选项卡，选择一个请求，找到请求头中的`Cookie`字段，复制其值，粘贴到 VSCode 中输入框即可。

## 🚀 主要功能 🚀

1. 加载知乎热榜
2. 加载知乎推荐
3. 点击查看文章，支持切换上一个/下一个回答
4. 提供显示/隐藏图片的功能，避免被发现
5. 键盘左右箭头可以切换上一个/下一个回答

## 💥 Changelog 💥

- 0.0.9

  - 优化了 Cookie 的处理方式，增加了获取 Cookie 的提示，避免用户输入错误。
  - 对 Cookie 清除操作进行了优化，确保页面能够正确响应。

- 0.0.8

  - 修复了页面加载完成后，需要点一下才能左右切换上一个/下一个回答的问题。
  - 优化了上一条/下一条按钮的样式，增加了 disabled 效果。
  - 新增搜索功能，侧边栏可以搜索相关问题。

- 0.0.7

  - 修复了加载完成后，底部栏仍提示正在加载的问题。
  - 优化了文章页面的样式，增加回答的点赞数、评论数等信息。
  - 优化了文章加载页的样式，新增问题简介的滚动条，避免内容过长导致页面显示不全。
  - 新增快捷键切换上一个/下一个回答，按键盘的`←`和`→`来切换。
  - 支持更多版本的 VSCode，更新报错的话请卸载重装。

## 📝 TODO 📝

1. 重构代码，简化流程(v0.0.6 已重构)
2. 增加更多功能，比如搜索、收藏等(v0.0.8 已实现搜索功能)
3. 详情页面添加回答跳转功能(v0.0.7 已实现分页跳转)
4. 增加更多的设置选项，比如字体大小等

## 🐞 已知问题 🐞

1.  推荐列表可能加载不出来，可能跟 Cookie 中 BEC 参数有关，那么需要你前往知乎首页，点击推荐切换到推荐列表，然后刷新页面，获取新的 Cookie，粘贴到 VSCode 中即可。（我猜这个参数可能记录了用户的操作，比如之前切换到热榜列表，那么下次打开知乎也切到热榜，所以需要切到推荐后再拿 Cookie）
2.  如果遇到卡住的问题，有可能是Cookie过期了，因为频繁获取信息可能会被知乎限制，那么重新打开知乎，获取新的 Cookie，粘贴到 VSCode 中即可。
3.  欢迎在 Issues 中反馈问题，或者直接在插件中反馈问题，我会尽快修复。

## 🔧 实现原理 🔧

基于 VSCode 插件脚手架，使用 Puppeteer 来模拟浏览知乎，抓取内容并渲染成 HTML，最后在 VSCode 中显示。

## 💖 欢迎赞赏 💖

💰 一分也是爱，您的支持是我更新的最大动力！如果帮到你麻烦给个好评，感谢~

![赞赏码](https://raw.githubusercontent.com/crispyChicken999/crispyChicken999.github.io/main/code.jpg)
