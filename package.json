{
  "name": "zhihu-fisher",
  "displayName": "Zhihu Fisher",
  "description": "A VSCode extension for browsing Zhihu recommend/hot lists, searching content, and viewing articles.",
  "version": "0.1.9",
  "author": "CrispyChicken",
  "engines": {
    "vscode": "^1.82.0"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/crispyChicken999/zhihu-fisher-vscode"
  },
  "icon": "./icon.png",
  "publisher": "CrispyChicken",
  "categories": [
    "Other"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "zhihu-fisher.refreshHotList",
        "title": "刷新热榜",
        "icon": "$(refresh)"
      },
      {
        "command": "zhihu-fisher.refreshRecommendList",
        "title": "刷新推荐",
        "icon": "$(refresh)"
      },
      {
        "command": "zhihu-fisher.searchContent",
        "title": "搜索知乎内容",
        "icon": "$(search)"
      },
      {
        "command": "zhihu-fisher.openArticle",
        "title": "打开文章"
      },
      {
        "command": "zhihu-fisher.openInBrowser",
        "title": "在浏览器中打开",
        "icon": "$(link-external)"
      },
      {
        "command": "zhihu-fisher.showFullImage",
        "title": "放大缩略图",
        "icon": "$(zoom-in)"
      },
      {
        "command": "zhihu-fisher.setCookie",
        "title": "设置Cookie",
        "icon": "$(key)"
      },
      {
        "command": "zhihu-fisher.clearCookie",
        "title": "清除Cookie",
        "icon": "$(trash)"
      },
      {
        "command": "zhihu-fisher.setMediaModeNormal",
        "title": "正常显示",
        "icon": "$(eye)"
      },
      {
        "command": "zhihu-fisher.setMediaModeMini",
        "title": "小图模式（设置中可指定缩放比例）",
        "icon": "$(screen-normal)"
      },
      {
        "command": "zhihu-fisher.setMediaModeNone",
        "title": "全部隐藏",
        "icon": "$(eye-closed)"
      },
      {
        "command": "zhihu-fisher.configureBrowser",
        "title": "配置浏览器",
        "icon": "$(browser)"
      },
      {
        "command": "zhihu-fisher.setCustomChromePath",
        "title": "自定义浏览器路径",
        "icon": "$(folder-opened)"
      },
      {
        "command": "zhihu-fisher.openFeedback",
        "title": "问题反馈与建议",
        "icon": "$(feedback)"
      },
      {
        "command": "zhihu-fisher.starOnGitHub",
        "title": "觉得不错？GitHub上点颗星吧~",
        "icon": "$(star-full)"
      },
      {
        "command": "zhihu-fisher.buyMeCoffee",
        "title": "请开发者喝杯咖啡",
        "icon": "$(heart)"
      },
      {
        "command": "zhihu-fisher.showAbout",
        "title": "关于",
        "icon": "$(info)"
      },
      {
        "command": "zhihu-fisher.showGuide",
        "title": "使用说明",
        "icon": "$(book)"
      },
      {
        "command": "zhihu-fisher.restartExtension",
        "title": "重新启动扩展",
        "icon": "$(refresh)"
      },
      {
        "command": "zhihu-fisher.showTroubleshootingGuide",
        "title": "故障排除指引",
        "icon": "$(tools)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "zhihuFisher",
          "title": "知乎摸鱼",
          "icon": "$(book)"
        }
      ]
    },
    "views": {
      "zhihuFisher": [
        {
          "id": "zhihuRecommendList",
          "name": "推荐",
          "icon": "$(star)",
          "contextualTitle": "知乎推荐"
        },
        {
          "id": "zhihuHotList",
          "name": "热榜",
          "icon": "$(flame)",
          "contextualTitle": "知乎热榜"
        },
        {
          "id": "zhihuSearchList",
          "name": "搜索",
          "icon": "$(search)",
          "contextualTitle": "知乎搜索"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "zhihuRecommendList",
        "contents": "加载知乎推荐中...\n[刷新](command:zhihu-fisher.refreshHotList)\n[设置Cookie](command:zhihu-fisher.setCookie)\n\n如果遇到浏览器问题，可以尝试：\n[安装浏览器](command:zhihu-fisher.configureBrowser)\n[自定义浏览器路径](command:zhihu-fisher.setCustomChromePath)"
      },
      {
        "view": "zhihuHotList",
        "contents": "加载知乎热榜中..."
      },
      {
        "view": "zhihuSearchList",
        "contents": "点击搜索按钮查找知乎内容..."
      }
    ],
    "submenus": [
      {
        "id": "zhihu-fisher.mediaDisplayMenu",
        "label": "图片视频显示方式"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "zhihu-fisher.refreshHotList",
          "when": "view == zhihuHotList",
          "group": "navigation@1"
        },
        {
          "command": "zhihu-fisher.refreshRecommendList",
          "when": "view == zhihuRecommendList",
          "group": "navigation@1"
        },
        {
          "command": "zhihu-fisher.searchContent",
          "when": "view == zhihuSearchList",
          "group": "navigation@1"
        },
        {
          "submenu": "zhihu-fisher.mediaDisplayMenu",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "bmode@1"
        },
        {
          "command": "zhihu-fisher.configureBrowser",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "config@1"
        },
        {
          "command": "zhihu-fisher.setCookie",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "config@2"
        },
        {
          "command": "zhihu-fisher.clearCookie",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "config@3"
        },
        {
          "command": "zhihu-fisher.restartExtension",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "troubleshoot@1"
        },
        {
          "command": "zhihu-fisher.showTroubleshootingGuide",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "troubleshoot@2"
        },
        {
          "command": "zhihu-fisher.openFeedback",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "ysupport@1"
        },
        {
          "command": "zhihu-fisher.buyMeCoffee",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "ysupport@2"
        },
        {
          "command": "zhihu-fisher.starOnGitHub",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "ysupport@3"
        },
        {
          "command": "zhihu-fisher.showGuide",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "zhelp@1"
        },
        {
          "command": "zhihu-fisher.showAbout",
          "when": "view == zhihuHotList || view == zhihuRecommendList || view == zhihuSearchList",
          "group": "zhelp@2"
        }
      ],
      "zhihu-fisher.mediaDisplayMenu": [
        {
          "command": "zhihu-fisher.setMediaModeNormal",
          "group": "1_media@1"
        },
        {
          "command": "zhihu-fisher.setMediaModeMini",
          "group": "1_media@2"
        },
        {
          "command": "zhihu-fisher.setMediaModeNone",
          "group": "1_media@3"
        }
      ],
      "view/item/context": [
        {
          "command": "zhihu-fisher.openInBrowser",
          "when": "view =~ /^zhihu(Hot|Recommend|Search)List$/ && (viewItem == TreeItem || viewItem == TreeItemWithImage)",
          "group": "inline"
        },
        {
          "command": "zhihu-fisher.showFullImage",
          "when": "view =~ /^zhihu(Hot|Recommend|Search)List$/ && viewItem == TreeItemWithImage",
          "group": "inline"
        }
      ]
    },
    "walkthroughs": [
      {
        "id": "zhihu-fisher-getting-started",
        "title": "知乎摸鱼新手指南",
        "description": "了解如何使用知乎摸鱼插件的各项功能",
        "steps": [
          {
            "id": "welcome",
            "title": "欢迎使用知乎摸鱼！",
            "description": "**知乎摸鱼**是一个强大的VSCode扩展，让您可以直接在编辑器中浏览知乎内容。\n\n🌟 点击侧边栏的**📖**开始探索！",
            "media": {
              "markdown": "walkthrough/welcome.md"
            }
          },
          {
            "id": "setup-browser",
            "title": "第一步：配置浏览器",
            "description": "为了获得最佳体验，我们需要先配置浏览器引擎。插件会自动下载Chrome浏览器，但您也可以使用自己的浏览器。\n\n**自动配置（推荐）：**\n[配置浏览器](command:zhihu-fisher.configureBrowser)\n\n**手动配置：**\n[设置自定义浏览器路径](command:zhihu-fisher.setCustomChromePath)\n\n",
            "media": {
              "image": "https://img2024.cnblogs.com/blog/3085939/202504/3085939-20250425154308398-1262720236.png",
              "altText": "配置浏览器"
            },
            "completionEvents": [
              "onCommand:zhihu-fisher.configureBrowser",
              "onCommand:zhihu-fisher.setCustomChromePath"
            ]
          },
          {
            "id": "setup-cookie",
            "title": "第二步：设置知乎Cookie",
            "description": "设置知乎Cookie可以访问更多内容，包括需要登录才能查看的文章和完整的评论。\n\n**如何获取Cookie：**\n1. 在浏览器中登录知乎\n2. 按F12打开开发者工具\n3. 在Network标签页找到知乎请求\n4. 复制Cookie值\n\n[设置知乎Cookie](command:zhihu-fisher.setCookie)\n\n **🔒 隐私保护声明：**\n• 您的Cookie仅存储在本地VS Code配置中\n• 我们不会上传、收集或分享您的Cookie\n• Cookie仅用于访问知乎内容，不会用于其他用途\n• 您可以随时清除或更新Cookie设置\n\n",
            "media": {
              "image": "https://img2024.cnblogs.com/blog/3085939/202504/3085939-20250424143443844-967882670.webp",
              "altText": "设置知乎Cookie"
            },
            "completionEvents": [
              "onCommand:zhihu-fisher.setCookie"
            ]
          },
          {
            "id": "explore-content",
            "title": "第三步：开始探索内容",
            "description": "现在您可以开始浏览知乎内容了！点击侧边栏的**书本图标**，您会看到三个视图：\n\n📊 **热榜** - 查看知乎热门内容\n⭐ **推荐** - 浏览个性化推荐\n🔍 **搜索** - 搜索感兴趣的话题\n\n点击任意内容即可在内置阅读器中查看完整文章。\n\n[刷新热榜](command:zhihu-fisher.refreshHotList) | [刷新推荐](command:zhihu-fisher.refreshRecommendList) | [搜索内容](command:zhihu-fisher.searchContent)",
            "media": {
              "image": "https://img2024.cnblogs.com/blog/3085939/202506/3085939-20250630162418486-1876686362.png",
              "altText": "浏览知乎内容"
            },
            "completionEvents": [
              "onCommand:zhihu-fisher.refreshHotList",
              "onCommand:zhihu-fisher.refreshRecommendList",
              "onCommand:zhihu-fisher.searchContent"
            ]
          },
          {
            "id": "reading-features",
            "title": "第四步：文章阅读样式设置",
            "description": "在文章阅读界面，您可以享受丰富的功能：\n\n⌨️ **快捷键操作：**\n 1. **←** **→** 切换回答\n 2. **/** 切换图片显示模式\n 3. **。** 打开外观设置\n 4. **,** 展开/收起评论\n 5. **X** 沉浸模式\n 6. **C** 复制链接\n 7. **B** 浏览器打开\n 8. **V** 回到顶部\n\n🎨 **个性化设置：**\n 调整字体大小和行高\n 设置图片显示方式\n 自定义阅读宽度\n 更改字体和颜色",
            "media": {
              "image": "https://img2024.cnblogs.com/blog/3085939/202506/3085939-20250630162556571-297225034.png",
              "altText": "知乎文章第文章阅读样式设置"
            }
          },
          {
            "id": "media-settings",
            "title": "第五步：自定义媒体显示",
            "description": "知乎摸鱼提供三种图片视频显示模式，适应不同的使用场景：\n\n👁️ **正常模式** - 完整显示所有媒体内容\n[设置正常模式](command:zhihu-fisher.setMediaModeNormal)\n\n📱 **迷你模式** - 缩小显示，可自定义缩放比例（1-100%）\n[设置迷你模式](command:zhihu-fisher.setMediaModeMini)\n\n🙈 **隐藏模式** - 隐藏所有图片视频，专注文字\n[设置隐藏模式](command:zhihu-fisher.setMediaModeNone)\n\n💡 **提示：** 在文章中按 `/` 键可以快速切换显示模式！",
            "media": {
              "image": "https://img2024.cnblogs.com/blog/3085939/202506/3085939-20250630164550125-1913949956.png",
              "altText": "知乎文章媒体显示设置"
            },
            "completionEvents": [
              "onCommand:zhihu-fisher.setMediaModeNormal",
              "onCommand:zhihu-fisher.setMediaModeMini",
              "onCommand:zhihu-fisher.setMediaModeNone"
            ]
          },
          {
            "id": "support-creator",
            "title": "喜欢这个插件？支持开发者！",
            "description": "如果您觉得**知乎摸鱼**插件对您有帮助，欢迎支持开发者继续改进和维护！\n\n[⭐ GitHub 点颗星](command:zhihu-fisher.starOnGitHub)\n[问题反馈与建议](command:zhihu-fisher.openFeedback)",
            "media": {
              "markdown": "walkthrough/support-creator.md"
            },
            "completionEvents": [
              "onCommand:zhihu-fisher.starOnGitHub",
              "onCommand:zhihu-fisher.openFeedback"
            ]
          }
        ]
      }
    ],
    "configuration": {
      "title": "知乎摸鱼",
      "properties": {
        "zhihu-fisher.mediaDisplayMode": {
          "type": "string",
          "enum": [
            "none",
            "mini",
            "normal"
          ],
          "enumDescriptions": [
            "隐藏模式(不显示图片视频)",
            "迷你模式(图片视频缩小显示)",
            "正常模式(正常显示图片视频)"
          ],
          "default": "normal",
          "description": "文章中媒体资源（图片、视频等）的显示方式。"
        },
        "zhihu-fisher.miniMediaScale": {
          "type": "number",
          "minimum": 1,
          "maximum": 100,
          "default": 50,
          "description": "迷你模式下图片和视频的缩放比例（1-100%）。"
        },
        "zhihu-fisher.cookie": {
          "type": "string",
          "default": "",
          "description": "知乎Cookie，用于访问需要登录的内容。",
          "scope": "machine"
        },
        "zhihu-fisher.customChromePath": {
          "type": "string",
          "default": "",
          "description": "自定义谷歌Chrome 浏览器路径。如果设置了，插件将使用此路径的浏览器，而不是 Puppeteer 安装的 Chrome 浏览器。",
          "scope": "machine"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "pnpm run package",
    "compile": "pnpm run check-types && pnpm run lint && node esbuild.js",
    "watch": "npm-run-all -p watch:*",
    "watch:esbuild": "node esbuild.js --watch",
    "watch:tsc": "tsc --noEmit --watch --project tsconfig.json",
    "package": "pnpm run check-types && pnpm run lint && node esbuild.js --production",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "pnpm run compile-tests && pnpm run compile && pnpm run lint",
    "check-types": "tsc --noEmit",
    "lint": "eslint src",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "20.x",
    "@types/vscode": "^1.82.0",
    "@typescript-eslint/eslint-plugin": "^8.28.0",
    "@typescript-eslint/parser": "^8.28.0",
    "@vscode/test-cli": "^0.0.10",
    "@vscode/test-electron": "^2.4.1",
    "esbuild": "^0.25.1",
    "eslint": "^9.23.0",
    "npm-run-all": "^4.1.5",
    "typescript": "^5.8.2"
  },
  "dependencies": {
    "axios": "^1.8.4",
    "cheerio": "^1.0.0",
    "jsdom": "^26.1.0",
    "marked": "^15.0.8",
    "puppeteer": "^24.6.1"
  }
}
